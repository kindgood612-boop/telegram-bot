from telegram import Update
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, filters, ContextTypes

# ====================== Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¨ÙˆØª ======================
banned_users = []
muted_users = []
restricted_users = []
owners = []
admins = []
creators = []
vip_users = []

WELCOME_MESSAGE = "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø²ÙŠØ²ÙŠ"

# ====================== Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ======================
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(WELCOME_MESSAGE)

async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    msg = "â€¢ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø²ÙŠØ²ÙŠ\n"
    msg += "â€¢ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø²ÙŠØ²ÙŠ\n"
    msg += "- Ù‚Ø§Ø¦Ù…Ø© Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø§Ø¯Ù…Ù†ÙŠÙ‡\nâ”â”â”â”â”â”â”â”â”â”â”â”\n"
    msg += "- Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„ØªÙ†Ø²ÙŠÙ„ :\n"
    msg += "â€¢ Ø±ÙØ¹ - ØªÙ†Ø²ÙŠÙ„ Ù…Ø§Ù„Ùƒ Ø§Ø³Ø§Ø³ÙŠ\nâ€¢ Ø±ÙØ¹ - ØªÙ†Ø²ÙŠÙ„ Ù…Ø§Ù„Ùƒ\nâ€¢ Ø±ÙØ¹ - ØªÙ†Ø²ÙŠÙ„ Ù…Ø´Ø±Ù\n"
    msg += "â€¢ Ø±ÙØ¹ - ØªÙ†Ø²ÙŠÙ„ Ù…Ù†Ø´Ø¦\nâ€¢ Ø±ÙØ¹ - ØªÙ†Ø²ÙŠÙ„ Ù…Ø¯ÙŠØ±\nâ€¢ Ø±ÙØ¹ - ØªÙ†Ø²ÙŠÙ„ Ø§Ø¯Ù…Ù†\n"
    msg += "â€¢ Ø±ÙØ¹ - ØªÙ†Ø²ÙŠÙ„ Ù…Ù…ÙŠØ²\nâ€¢ ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ÙƒÙ„ - Ù„Ø§Ø²Ø§Ù„Ù‡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±ØªØ¨ Ø§Ø¹Ù„Ø§Ù‡\n\n"
    msg += "- Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø³Ø­ :\n"
    msg += "â€¢ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„ \nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ù…Ù†Ø´Ø¦ÙŠÙ†\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ù…Ø¯Ø±Ø§Ø¡\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠÙ†\n"
    msg += "â€¢ Ù…Ø³Ø­ Ø§Ù„Ø§Ø¯Ù…Ù†ÙŠÙ‡\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ù…Ù…ÙŠØ²ÙŠÙ†\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø¸ÙˆØ±ÙŠÙ†\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ù…ÙƒØªÙˆÙ…ÙŠÙ†\n"
    msg += "â€¢ Ù…Ø³Ø­ Ù‚Ø§Ø¦Ù…Ù‡ Ø§Ù„Ù…Ù†Ø¹\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ø±Ø¯ÙˆØ¯\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø¶Ø§ÙÙ‡\n"
    msg += "â€¢ Ù…Ø³Ø­ + Ø¹Ø¯Ø¯\nâ€¢ Ù…Ø³Ø­ Ø¨Ø§Ù„Ø±Ø¯\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ø§ÙŠØ¯ÙŠ\nâ€¢ Ù…Ø³Ø­ Ø§Ù„ØªØ±Ø­ÙŠØ¨\nâ€¢ Ù…Ø³Ø­ Ø§Ù„Ø±Ø§Ø¨Ø·\n\n"
    msg += "- Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø·Ø±Ø¯ ÙˆØ§Ù„Ø­Ø¸Ø± :\n"
    msg += "â€¢ ØªÙ‚ÙŠÙŠØ¯ + Ø§Ù„ÙˆÙ‚Øª\nâ€¢ Ø­Ø¸Ø± \nâ€¢ Ø·Ø±Ø¯ \nâ€¢ ÙƒØªÙ…\nâ€¢ ØªÙ‚ÙŠÙŠØ¯ \n"
    msg += "â€¢ Ø§Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¸Ø± \nâ€¢ Ø§Ù„ØºØ§Ø¡ Ø§Ù„ÙƒØªÙ…\nâ€¢ ÙÙƒ Ø§Ù„ØªÙ‚ÙŠÙŠØ¯ \nâ€¢ Ø±ÙØ¹ Ø§Ù„Ù‚ÙŠÙˆØ¯\n"
    msg += "â€¢ Ù…Ù†Ø¹ Ø¨Ø§Ù„Ø±Ø¯\nâ€¢ Ø§Ù„ØºØ§Ø¡ Ù…Ù†Ø¹ Ø¨Ø§Ù„Ø±Ø¯\nâ€¢ Ø·Ø±Ø¯ Ø§Ù„Ø¨ÙˆØªØ§Øª\nâ€¢ Ø·Ø±Ø¯ Ø§Ù„Ù…Ø­Ø°ÙˆÙÙŠÙ†\nâ€¢ ÙƒØ´Ù Ø§Ù„Ø¨ÙˆØªØ§Øª\n"
    msg += "â”â”â”â”â”â”â”â”â”â”â”â”"
    await update.message.reply_text(msg)

async def id_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.message.from_user.id
    await update.message.reply_text(f"Ø±Ù‚Ù…Ùƒ: {user_id}")

# ====================== Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ======================
# Ø±ÙØ¹ ÙˆØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø±ØªØ¨
async def promote(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("âœ… ØªÙ… ØªÙ†ÙÙŠØ° Ø£Ù…Ø± Ø§Ù„Ø±ÙØ¹/Ø§Ù„ØªÙ†Ø²ÙŠÙ„ (Ù…Ø«Ø§Ù„)")

# Ù…Ø³Ø­ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
async def clear(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("âœ… ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ù…Ø«Ø§Ù„)")

# Ø§Ù„Ø­Ø¸Ø± ÙˆØ§Ù„Ø·Ø±Ø¯ ÙˆØ§Ù„ÙƒØªÙ… ÙˆØ§Ù„ØªÙ‚ÙŠÙŠØ¯
async def ban(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if update.message.reply_to_message:
        user_id = update.message.reply_to_message.from_user.id
        if user_id not in banned_users:
            banned_users.append(user_id)
            await update.message.reply_text(f"âœ… ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… {user_id}")
        else:
            await update.message.reply_text("Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø¸ÙˆØ± Ø¨Ø§Ù„ÙØ¹Ù„")
    else:
        await update.message.reply_text("Ø§Ø±ÙØ¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø­Ø¸Ø±Ù‡")

async def unban(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if update.message.reply_to_message:
        user_id = update.message.reply_to_message.from_user.id
        if user_id in banned_users:
            banned_users.remove(user_id)
            await update.message.reply_text(f"âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„Ø­Ø¸Ø± Ø¹Ù† {user_id}")
        else:
            await update.message.reply_text("Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø­Ø¸ÙˆØ±")
    else:
        await update.message.reply_text("Ø§Ø±ÙØ¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø±ÙØ¹ Ø§Ù„Ø­Ø¸Ø± Ø¹Ù†Ù‡")

async def kick(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("âœ… ØªÙ… Ø·Ø±Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø«Ø§Ù„)")

async def mute(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if update.message.reply_to_message:
        user_id = update.message.reply_to_message.from_user.id
        if user_id not in muted_users:
            muted_users.append(user_id)
            await update.message.reply_text(f"âœ… ØªÙ… ÙƒØªÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… {user_id}")
        else:
            await update.message.reply_text("Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙƒØªÙˆÙ… Ø¨Ø§Ù„ÙØ¹Ù„")
    else:
        await update.message.reply_text("Ø§Ø±ÙØ¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ÙƒØªÙ…Ù‡")

async def unmute(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if update.message.reply_to_message:
        user_id = update.message.reply_to_message.from_user.id
        if user_id in muted_users:
            muted_users.remove(user_id)
            await update.message.reply_text(f"âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ÙƒØªÙ… Ø¹Ù† {user_id}")
        else:
            await update.message.reply_text("Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙƒØªÙˆÙ…")
    else:
        await update.message.reply_text("Ø§Ø±ÙØ¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø±ÙØ¹ Ø§Ù„ÙƒØªÙ… Ø¹Ù†Ù‡")

async def restrict(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("âœ… ØªÙ… ØªÙ‚ÙŠÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø«Ø§Ù„)")

async def unrestrict(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠØ¯ Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø«Ø§Ù„)")

# ====================== Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø¹Ø§Ù…Ø© ======================
async def echo(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.message.from_user.id
    if user_id in banned_users:
        await update.message.reply_text("âŒ Ø£Ù†Øª Ù…Ø­Ø¸ÙˆØ± Ù…Ù† Ø§Ù„Ø¨ÙˆØª")
        return
    if user_id in muted_users:
        return
    await update.message.reply_text(f"ğŸ’¬ Ø±Ø³Ø§Ù„ØªÙƒ: {update.message.text}")

# ====================== Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ======================
app = ApplicationBuilder().token("").build()  # Ø¶Ø¹ Ø§Ù„ØªÙˆÙƒÙ† Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„

# Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
app.add_handler(CommandHandler("start", start))
app.add_handler(CommandHandler("help", help_command))
app.add_handler(CommandHandler("id", id_command))

# Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
app.add_handler(CommandHandler("promote", promote))
app.add_handler(CommandHandler("clear", clear))
app.add_handler(CommandHandler("ban", ban))
app.add_handler(CommandHandler("unban", unban))
app.add_handler(CommandHandler("kick", kick))
app.add_handler(CommandHandler("mute", mute))
app.add_handler(CommandHandler("unmute", unmute))
app.add_handler(CommandHandler("restrict", restrict))
app.add_handler(CommandHandler("unrestrict", unrestrict))

# Ø±Ø¯ÙˆØ¯ Ø¹Ø§Ù…Ø©
app.add_handler(MessageHandler(filters.TEXT & (~filters.COMMAND), echo))

print("Bot is readyâ€¦")
app.run_polling()
